import type { Product, Category } from '@/types';

export const mockCategories: Category[] = [
  {
    id: '1',
    name: 'Điện tử',
    slug: 'dien-tu',
    children: [
      { id: '1-1', name: 'Điện thoại di động', slug: 'dien-thoai', parentId: '1' },
      { id: '1-2', name: 'Máy tính xách tay', slug: 'laptop', parentId: '1' },
      { id: '1-3', name: 'Máy tính bảng', slug: 'tablet', parentId: '1' },
      { id: '1-4', name: 'Phụ kiện', slug: 'phu-kien', parentId: '1' },
    ],
  },
  {
    id: '2',
    name: 'Thời trang',
    slug: 'thoi-trang',
    children: [
      { id: '2-1', name: 'Giày', slug: 'giay', parentId: '2' },
      { id: '2-2', name: 'Đồng hồ', slug: 'dong-ho', parentId: '2' },
      { id: '2-3', name: 'Túi xách', slug: 'tui-xach', parentId: '2' },
      { id: '2-4', name: 'Trang sức', slug: 'trang-suc', parentId: '2' },
    ],
  },
  {
    id: '3',
    name: 'Nghệ thuật',
    slug: 'nghe-thuat',
    children: [
      { id: '3-1', name: 'Tranh', slug: 'tranh', parentId: '3' },
      { id: '3-2', name: 'Đồ cổ', slug: 'do-co', parentId: '3' },
      { id: '3-3', name: 'Sưu tầm', slug: 'suu-tam', parentId: '3' },
    ],
  },
  {
    id: '4',
    name: 'Xe cộ',
    slug: 'xe-co',
    children: [
      { id: '4-1', name: 'Ô tô', slug: 'o-to', parentId: '4' },
      { id: '4-2', name: 'Xe máy', slug: 'xe-may', parentId: '4' },
      { id: '4-3', name: 'Xe đạp', slug: 'xe-dap', parentId: '4' },
    ],
  },
];

// Helper to generate dates
const now = new Date();
const addMinutes = (minutes: number) => new Date(now.getTime() + minutes * 60000).toISOString();
const addHours = (hours: number) => new Date(now.getTime() + hours * 3600000).toISOString();
const addDays = (days: number) => new Date(now.getTime() + days * 86400000).toISOString();
const subtractDays = (days: number) => new Date(now.getTime() - days * 86400000).toISOString();

export const mockProducts: Product[] = [
  // Ending soon products
  {
    id: '1',
    name: 'iPhone 15 Pro Max 256GB - Like New',
    currentPrice: 28500000,
    buyNowPrice: 32000000,
    startPrice: 25000000,
    bidStep: 500000,
    imageUrl: 'https://images.unsplash.com/photo-1695048133142-1a20484d2569?w=400&h=400&fit=crop',
    images: [],
    description: 'iPhone 15 Pro Max tình trạng 99%, đầy đủ phụ kiện',
    categoryId: '1-1',
    categoryName: 'Điện thoại di động',
    sellerId: 's1',
    sellerName: 'TechStore',
    sellerRating: 98,
    highestBidderId: 'b1',
    highestBidderName: '****Minh',
    highestBidderRating: 95,
    bidCount: 23,
    startTime: subtractDays(5),
    endTime: addMinutes(45),
    createdAt: subtractDays(5),
    isNew: false,
    autoExtend: true,
  },
  {
    id: '2',
    name: 'Rolex Submariner Date 41mm',
    currentPrice: 285000000,
    buyNowPrice: 320000000,
    startPrice: 250000000,
    bidStep: 5000000,
    imageUrl: 'https://images.unsplash.com/photo-1587836374828-4dbafa94cf0e?w=400&h=400&fit=crop',
    images: [],
    description: 'Rolex Submariner chính hãng, full box',
    categoryId: '2-2',
    categoryName: 'Đồng hồ',
    sellerId: 's2',
    sellerName: 'LuxuryWatch',
    sellerRating: 100,
    highestBidderId: 'b2',
    highestBidderName: '****Hùng',
    highestBidderRating: 92,
    bidCount: 15,
    startTime: subtractDays(3),
    endTime: addHours(2),
    createdAt: subtractDays(3),
    isNew: false,
    autoExtend: true,
  },
  {
    id: '3',
    name: 'MacBook Pro M3 Max 16" 48GB RAM',
    currentPrice: 75000000,
    startPrice: 65000000,
    bidStep: 1000000,
    imageUrl: 'https://images.unsplash.com/photo-1517336714731-489689fd1ca8?w=400&h=400&fit=crop',
    images: [],
    description: 'MacBook Pro M3 Max cấu hình cao nhất',
    categoryId: '1-2',
    categoryName: 'Máy tính xách tay',
    sellerId: 's1',
    sellerName: 'TechStore',
    sellerRating: 98,
    highestBidderId: 'b3',
    highestBidderName: '****Tùng',
    highestBidderRating: 88,
    bidCount: 18,
    startTime: subtractDays(4),
    endTime: addHours(5),
    createdAt: subtractDays(4),
    isNew: false,
    autoExtend: false,
  },
  {
    id: '4',
    name: 'Nike Air Jordan 1 Retro High OG',
    currentPrice: 8500000,
    buyNowPrice: 12000000,
    startPrice: 5000000,
    bidStep: 200000,
    imageUrl: 'https://images.unsplash.com/photo-1542291026-7eec264c27ff?w=400&h=400&fit=crop',
    images: [],
    description: 'Jordan 1 chính hãng, size 42, VNDS',
    categoryId: '2-1',
    categoryName: 'Giày',
    sellerId: 's3',
    sellerName: 'SneakerHead',
    sellerRating: 96,
    highestBidderId: 'b4',
    highestBidderName: '****Khoa',
    highestBidderRating: 100,
    bidCount: 31,
    startTime: subtractDays(2),
    endTime: addMinutes(120),
    createdAt: subtractDays(2),
    isNew: false,
    autoExtend: true,
  },
  {
    id: '5',
    name: 'Tranh sơn dầu "Hà Nội Phố" - Bùi Xuân Phái',
    currentPrice: 450000000,
    startPrice: 300000000,
    bidStep: 10000000,
    imageUrl: 'https://images.unsplash.com/photo-1579783902614-a3fb3927b6a5?w=400&h=400&fit=crop',
    images: [],
    description: 'Tranh gốc có chứng nhận, khung gỗ nguyên bản',
    categoryId: '3-1',
    categoryName: 'Tranh',
    sellerId: 's4',
    sellerName: 'ArtGallery',
    sellerRating: 100,
    highestBidderId: 'b5',
    highestBidderName: '****Anh',
    highestBidderRating: 100,
    bidCount: 8,
    startTime: subtractDays(7),
    endTime: addDays(1),
    createdAt: subtractDays(7),
    isNew: false,
    autoExtend: false,
  },
  // New products (within last 30 minutes)
  {
    id: '6',
    name: 'Samsung Galaxy S24 Ultra 512GB',
    currentPrice: 26000000,
    buyNowPrice: 30000000,
    startPrice: 26000000,
    bidStep: 500000,
    imageUrl: 'https://images.unsplash.com/photo-1610945415295-d9bbf067e59c?w=400&h=400&fit=crop',
    images: [],
    description: 'Samsung S24 Ultra mới 100%, nguyên seal',
    categoryId: '1-1',
    categoryName: 'Điện thoại di động',
    sellerId: 's1',
    sellerName: 'TechStore',
    sellerRating: 98,
    bidCount: 0,
    startTime: now.toISOString(),
    endTime: addDays(7),
    createdAt: now.toISOString(),
    isNew: true,
    autoExtend: true,
  },
  {
    id: '7',
    name: 'Vespa Primavera 150cc 2023',
    currentPrice: 85000000,
    buyNowPrice: 95000000,
    startPrice: 85000000,
    bidStep: 1000000,
    imageUrl: 'https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=400&h=400&fit=crop',
    images: [],
    description: 'Vespa Primavera màu xanh mint, đi 2000km',
    categoryId: '4-2',
    categoryName: 'Xe máy',
    sellerId: 's5',
    sellerName: 'MotorHub',
    sellerRating: 94,
    bidCount: 2,
    startTime: subtractDays(1),
    endTime: addDays(5),
    createdAt: subtractDays(1),
    isNew: true,
    autoExtend: false,
  },
  {
    id: '8',
    name: 'Hermès Birkin 30 Togo Gold',
    currentPrice: 380000000,
    startPrice: 350000000,
    bidStep: 10000000,
    imageUrl: 'https://images.unsplash.com/photo-1584917865442-de89df76afd3?w=400&h=400&fit=crop',
    images: [],
    description: 'Birkin 30 chính hãng, full set, stamp Y',
    categoryId: '2-3',
    categoryName: 'Túi xách',
    sellerId: 's6',
    sellerName: 'LuxuryBags',
    sellerRating: 100,
    highestBidderId: 'b6',
    highestBidderName: '****Linh',
    highestBidderRating: 98,
    bidCount: 12,
    startTime: subtractDays(3),
    endTime: addDays(2),
    createdAt: subtractDays(3),
    isNew: false,
    autoExtend: true,
  },
  {
    id: '9',
    name: 'iPad Pro M4 13" 1TB WiFi + 5G',
    currentPrice: 42000000,
    buyNowPrice: 48000000,
    startPrice: 38000000,
    bidStep: 500000,
    imageUrl: 'https://images.unsplash.com/photo-1544244015-0df4b3ffc6b0?w=400&h=400&fit=crop',
    images: [],
    description: 'iPad Pro M4 mới nhất, kèm Apple Pencil Pro',
    categoryId: '1-3',
    categoryName: 'Máy tính bảng',
    sellerId: 's1',
    sellerName: 'TechStore',
    sellerRating: 98,
    highestBidderId: 'b7',
    highestBidderName: '****Nam',
    highestBidderRating: 90,
    bidCount: 9,
    startTime: subtractDays(2),
    endTime: addHours(8),
    createdAt: subtractDays(2),
    isNew: false,
    autoExtend: true,
  },
  {
    id: '10',
    name: 'Đồng hồ Omega Speedmaster Moonwatch',
    currentPrice: 145000000,
    startPrice: 130000000,
    bidStep: 2000000,
    imageUrl: 'https://images.unsplash.com/photo-1523275335684-37898b6baf30?w=400&h=400&fit=crop',
    images: [],
    description: 'Omega Speedmaster Professional, full box papers',
    categoryId: '2-2',
    categoryName: 'Đồng hồ',
    sellerId: 's2',
    sellerName: 'LuxuryWatch',
    sellerRating: 100,
    highestBidderId: 'b8',
    highestBidderName: '****Đức',
    highestBidderRating: 95,
    bidCount: 7,
    startTime: subtractDays(4),
    endTime: addDays(3),
    createdAt: subtractDays(4),
    isNew: false,
    autoExtend: false,
  },
];

// Helper functions to get filtered products
export const getEndingSoonProducts = (limit = 5): Product[] => {
  return [...mockProducts]
    .filter(p => new Date(p.endTime) > new Date())
    .sort((a, b) => new Date(a.endTime).getTime() - new Date(b.endTime).getTime())
    .slice(0, limit);
};

export const getMostBidsProducts = (limit = 5): Product[] => {
  return [...mockProducts]
    .sort((a, b) => b.bidCount - a.bidCount)
    .slice(0, limit);
};

export const getHighestPriceProducts = (limit = 5): Product[] => {
  return [...mockProducts]
    .sort((a, b) => b.currentPrice - a.currentPrice)
    .slice(0, limit);
};
